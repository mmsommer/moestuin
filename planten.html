<html>
  <head>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/3.0.0/cosmo/bootstrap.min.css">
    <script type="text/javascript" src='https://cdn.firebase.com/v0/firebase.js'></script>
    <script type="text/javascript" src="http://knockoutjs.com/downloads/knockout-3.0.0.js"></script>
    <script type="text/javascript" src="http://hiroshi.github.io/knockoutFire/knockoutfire-0.0.5.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  </head>
  <body>
    <script type="text/html" id="bestaandePlant-template"> 
      <tr>
        <td>
          <input id="inputNaam" class="form-control" type="text" placeholder="naam" data-bind="value: naam, valueUpdate: 'keyup'"/>
        </td>
        <td>
          <input id="inputSoort" class="form-control" type="text" placeholder="soort" data-bind="value: soort, valueUpdate: 'keyup'"/>
        </td>
        <td>
          <input id="inputZonbehoefte" class="form-control" type="text" placeholder="zonbehoefte" data-bind="value: zonbehoefte, valueUpdate: 'keyup'"/>
        </td>
        <td>
          <input id="inputVakAantal" class="form-control" type="text" placeholder="vakAantal" data-bind="value: vakAantal, valueUpdate: 'keyup'"/>
        </td>
        <td>
          <input id="inputRijAfstand" class="form-control" type="text" placeholder="rijAfstand" data-bind="value: rijAfstand, valueUpdate: 'keyup'"/>
        </td>
        <td>
          <input id="inputOogsttijd" class="form-control" type="text" placeholder="oogsttijd" data-bind="value: oogsttijd, valueUpdate: 'keyup'"/>
        </td>
        <td>
          <textarea id="inputBijzonderheden" class="form-control" placeholder="bijzonderheden" data-bind="value: bijzonderheden, valueUpdate: 'keyup'"></textArea>
        </td>
        <td>
          <button class="btn btn-default" data-bind="click: function(data, event) { data.firebase.remove(); };">Verwijderen</button>
        </td>
      </tr>
    </script>
    <script type="text/html" id="nieuwePlant-template">
      <tr>
        <td>
          <input id="inputNaam" class="form-control" type="text" placeholder="naam" data-bind="value: naam"/>
        </td>
        <td>
          <input id="inputSoort" class="form-control" type="text" placeholder="soort" data-bind="value: soort"/>
        </td>
        <td>
          <input id="inputZonbehoefte" class="form-control" type="text" placeholder="zonbehoefte" data-bind="value: zonbehoefte"/>
        </td>
        <td>
          <input id="inputVakAantal" class="form-control" type="text" placeholder="vakAantal" data-bind="value: vakAantal"/>
        </td>
        <td>
          <input id="inputRijAfstand" class="form-control" type="text" placeholder="rijAfstand" data-bind="value: rijAfstand"/>
        </td>
        <td>
          <input id="inputOogsttijd" class="form-control" type="text" placeholder="oogsttijd" data-bind="value: oogsttijd"/>
        </td>
        <td>
          <textarea id="inputBijzonderheden" class="form-control" placeholder="bijzonderheden" data-bind="value: bijzonderheden"></textArea>
        </td>
        <td>
          <button class="btn btn-default submit">Toevoegen</button>
        </td>
      </tr>
    </script>
    <script type="text/html" id="plant-template">
      <!-- ko template{ name: 'bestaandePlant-template', foreach: planten } -->
      <!-- /ko -->
      <!-- ko template{ name: 'nieuwePlant-template', with: planten.newItem } -->
      <!-- /ko -->
    </script>
    <script type="text/html" id="plantenTabel-template">
      <h1>Moestuinplanten</h1> 
        <table class="col-sm-12 table-striped">
          <thead>
            <tr>
              <th>Naam</th>
              <th>Soortnaam</th>
              <th>Zonbehoefte</th>
              <th>Aantal per vak</th>
              <th>Afstand in rijen</th>
              <th>Duur tot oogsten</th>
              <th>Extra bijzonderheden</th>
              <th/>
            </tr>
          </thead>
          <tbody data-bind="template{ name: 'plant-template', with: planten }">
          </tbody>
        </table>
      </form>
    </script>

    <div class="col-sm-offset-1 col-sm-10">
      <div class="row" id="planten" data-bind="template{ name: 'plantenTabel-template', with: planten}"></div>
    </div>
    <script>
      var firebase = new Firebase('https://mijnmoestuin.firebaseio.com/');    
      var viewModel = KnockoutFire.observable(firebase, {
        planten: {
          ".newItem": true,
          "$plant": {
            naam: true,
            soort: true,
            zonbehoefte: true,
            vakAantal: true,
            rijAfstand: true,
            oogsttijd: true,
            bijzonderheden: true
          }
        }  
      });

		  ko.applyBindings(viewModel, document.getElementById("planten"));
    </script>
  </body>
</html>